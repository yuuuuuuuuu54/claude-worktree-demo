# X(旧Twitter)クローンアプリ 要件定義書

## 1. プロジェクト概要

### 1.1 目的
- X(旧Twitter)の基本機能を模倣したソーシャルメディアプラットフォームの開発
- リアルタイムでのコミュニケーション機能の提供
- モダンなWebアプリケーションの技術習得

### 1.2 技術スタック
- **フロントエンド**: React (TypeScript)
- **バックエンド**: Go (Gin framework)
- **データベース**: PostgreSQL (ローカル)
- **認証**: JWT
- **画像保存**: ローカルファイルシステム

## 2. 機能要件

### 2.1 ユーザー認証・管理
- [ ] ユーザー登録
- [ ] ログイン/ログアウト
- [ ] パスワードリセット
- [ ] プロフィール編集
- [ ] アカウント削除

### 2.2 投稿機能
- [ ] テキスト投稿（最大280文字）
- [ ] 画像投稿（最大4枚）
- [ ] 投稿削除
- [ ] 投稿編集
- [ ] 下書き保存

### 2.3 タイムライン
- [ ] ホームタイムライン（フォローユーザーの投稿）
- [ ] 探索タイムライン（全ユーザーの投稿）
- [ ] 無限スクロール
- [ ] リアルタイム更新

### 2.4 インタラクション
- [ ] いいね機能
- [ ] リポスト機能
- [ ] コメント機能
- [ ] 引用リポスト

### 2.5 フォロー機能
- [ ] ユーザーフォロー/アンフォロー
- [ ] フォロワー一覧
- [ ] フォロー中一覧
- [ ] フォロー推奨機能

### 2.6 検索機能
- [ ] ユーザー検索
- [ ] 投稿検索
- [ ] ハッシュタグ検索
- [ ] 検索履歴

### 2.7 通知機能
- [ ] フォロー通知
- [ ] いいね通知
- [ ] コメント通知

### 2.8 プロフィール機能
- [ ] プロフィール表示
- [ ] プロフィール画像設定
- [ ] カバー画像設定
- [ ] 自己紹介文
- [ ] 投稿一覧表示

## 3. 非機能要件

### 3.1 パフォーマンス
- [ ] ページ読み込み時間: 3秒以内
- [ ] API応答時間: 500ms以内
- [ ] 同時接続ユーザー数: 1000人以上

### 3.2 セキュリティ
- [ ] SQL インジェクション対策
- [ ] XSS対策
- [ ] CSRF対策
- [ ] 入力値検証
- [ ] レート制限

### 3.3 可用性
- [ ] 稼働率: 99.9%以上
- [ ] 障害復旧時間: 30分以内

### 3.4 拡張性
- [ ] 将来的なデプロイ対応

## 4. データベース設計

### 4.1 主要テーブル
- **users**: ユーザー情報
- **posts**: 投稿情報
- **likes**: いいね情報
- **follows**: フォロー関係
- **comments**: コメント情報
- **notifications**: 通知情報
- **media**: メディアファイル情報

### 4.2 リレーション
- ユーザー ↔ 投稿 (1:N)
- ユーザー ↔ フォロー (M:N)
- 投稿 ↔ いいね (M:N)
- 投稿 ↔ コメント (1:N)

## 5. API設計

### 5.1 認証
- POST /api/auth/register
- POST /api/auth/login
- POST /api/auth/logout
- POST /api/auth/refresh

### 5.2 投稿
- GET /api/posts
- POST /api/posts
- PUT /api/posts/:id
- DELETE /api/posts/:id

### 5.3 ユーザー
- GET /api/users/:id
- PUT /api/users/:id
- GET /api/users/:id/posts
- GET /api/users/:id/followers
- GET /api/users/:id/following

### 5.4 インタラクション
- POST /api/posts/:id/like
- DELETE /api/posts/:id/like
- POST /api/posts/:id/repost
- DELETE /api/posts/:id/repost

### 5.5 フォロー
- POST /api/users/:id/follow
- DELETE /api/users/:id/follow

## 6. 開発フェーズ（今日中完成）

### Phase 1: 基本機能（午前中）
- ユーザー認証
- 投稿機能
- タイムライン表示

### Phase 2: インタラクション（午後前半）
- いいね機能
- フォロー機能
- コメント機能

### Phase 3: 仕上げ（午後後半）
- 検索機能
- 通知機能
- UI/UX調整

## 7. 制約事項

### 7.1 技術的制約
- React 18以上
- Go 1.20以上
- PostgreSQL 14以上

### 7.2 ビジネス制約
- 投稿文字数制限: 280文字
- 画像サイズ制限: 5MB
- 動画サイズ制限: 100MB

### 7.3 時間制約
- 開発期間: 1日
- MVP完成: 今日中

## 8. 成功指標

### 8.1 技術指標
- コードカバレッジ: 80%以上
- バグ発生率: 1%以下
- API応答時間: 500ms以内

### 8.2 ユーザー指標
- アクティブユーザー数: 100人
- 投稿数: 1日100投稿
- エンゲージメント率: 5%以上